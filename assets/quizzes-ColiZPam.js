import{B as l,H as z,g as y}from"./header-BhYeFC9Z.js";class g{template=null;constructor(){this.template=document.getElementById("quiz-card")}getElement({id:e,title:r,description:o,questions:n}){const s=this.template.content.cloneNode(!0),a=n.length,i=s.querySelector(".quiz-card"),d=i.querySelector(".quiz-card__title"),m=i.querySelector(".quiz-card__description"),q=i.querySelector(".quiz-card__questions"),p=i.querySelector(".quiz-card__pass");return d.textContent=r,m.textContent=o,q.textContent=`${a} ${_(a)}`,p.href=`${l}quiz.html?id=${encodeURIComponent(e)}`,s}}function _(t){if(t%100>=11&&t%100<=14)return"вопросов";const e=t%10;return e===1?"вопрос":e>=2&&e<=4?"вопроса":"вопросов"}const c=document.querySelector(".quizzes"),f=document.getElementById("quizzes-list"),u=document.getElementById("quiz-empty"),h=new z,C=new g;h.setButtonItems([{text:"Добавить квиз",href:`${l}index.html`,variant:"primary"}]);const S=async()=>{try{const t=await y();if(c.replaceChildren(),!Array.isArray(t)||t.length===0){const n=u.content.cloneNode(!0);c.append(n);return}const e=f.content.cloneNode(!0),r=e.querySelector(".quizzes-list"),o=document.createDocumentFragment();t.forEach(n=>{const s=C.getElement(n);o.append(s)}),c.append(e),r.append(o)}catch(t){c.replaceChildren();const e=u.content.cloneNode(!0),r=e.querySelector(".quiz-empty__title"),o=e.querySelector(".quiz-empty__subtitle"),n=e.querySelector(".quiz-empty__action");r&&(r.textContent=t instanceof Error?t.message:"Ошибка загрузки квизов"),o?.remove(),n?.remove(),c.append(e)}};await S();
